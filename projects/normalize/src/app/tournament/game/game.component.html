<div class='progress'>
    <div *ngFor='let _ of Array(maxIndex); let i1 = index' class='progress-group'>
        <div *ngFor='let _ of Array(TUPLES_PER_FEATURE); let i2 = index' class='progress-item'
                    [class.done]='index > i1 || (index === i1 && (TUPLES_PER_FEATURE - tuples.length) > i2)'>
        </div>
    </div>
</div>
<ng-container *ngIf='game && game.records && loaded === game.records.length'>
    <ng-container *ngIf='index < maxIndex && index >= 0'>
        <app-single-tournament [candidates]='candidates' [index]='index' (results)='addResults($event)'></app-single-tournament>
    </ng-container>
    <ng-container *ngIf='index === maxIndex'>
        <h2>Done!</h2>
    </ng-container>
</ng-container>
<ng-container *ngIf='!game || !game.records || loaded < game.records.length'>
    <app-loader></app-loader>
</ng-container>
<ng-container *ngIf='game && game.records && loaded < game.records.length'>
    <div class='placeholder' *ngFor='let candidate of game.records'>
        <img
            [src]='imageFetcher.fetchImage(candidate.image)' (load)='loaded = loaded + 1'>
    </div>    
</ng-container>
